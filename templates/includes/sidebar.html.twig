{#
/**
 * @file
 * Sidebar component template.
 *
 * Contains logo, navigation menu and user profile section.
 * Based on the Sidebar component from App.tsx.
 *
 * Available variables:
 * - current_user_name: Display name of the logged-in user.
 * - current_user_avatar: URL of the user's avatar image.
 * - current_user_role: User's role(s) for display.
 */
#}

{# Mock user data (to be replaced with Drupal variables) #}
{% set user_name = current_user_name|default('Ana Silva') %}
{% set user_avatar = current_user_avatar|default('https://picsum.photos/id/64/100/100') %}
{% set user_role = current_user_role|default('Analista de Marketing') %}

<aside class="js-sidebar sidebar fixed inset-y-0 left-0 z-30 w-64 bg-white border-r border-gray-200 transform -translate-x-full transition-transform duration-300 ease-in-out md:relative md:translate-x-0">
  <div class="h-full flex flex-col">
    
    {# Logo #}
    <div class="sidebar__logo h-16 flex items-center px-6 border-b border-gray-100">
      <a href="{{ path('<front>') }}" class="flex items-center gap-2 text-brand-700 font-bold text-xl no-underline">
        <div class="sidebar__logo-icon w-8 h-8 bg-brand-600 rounded-lg flex items-center justify-center text-white">
          <span class="font-bold">I</span>
        </div>
        <span class="sidebar__logo-text">IntraNet</span>
      </a>
    </div>

    {# Navigation #}
    <nav class="sidebar__nav flex-1 px-4 py-6 space-y-1">
      
      {# Dashboard / Home #}
      <a href="{{ path('<front>') }}" class="sidebar__nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors {{ is_front ? 'bg-brand-50 text-brand-700' : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900' }}">
        {# Home Icon #}
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5">
          <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
          <polyline points="9 22 9 12 15 12 15 22"/>
        </svg>
        <span>{{ 'In√≠cio'|t }}</span>
      </a>

      {# Documents #}
      <a href="{{ path('<front>') }}documentos" class="sidebar__nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900">
        {# File Text Icon #}
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5">
          <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
          <polyline points="14 2 14 8 20 8"/>
        </svg>
        <span>{{ 'Documentos'|t }}</span>
      </a>

      {# Calendar / Events #}
      <a href="{{ path('<front>') }}agenda" class="sidebar__nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900">
        {# Calendar Icon #}
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5">
          <rect width="18" height="18" x="3" y="4" rx="2" ry="2"/>
          <line x1="16" x2="16" y1="2" y2="6"/>
          <line x1="8" x2="8" y1="2" y2="6"/>
          <line x1="3" x2="21" y1="10" y2="10"/>
        </svg>
        <span>{{ 'Agenda'|t }}</span>
      </a>

      {# Announcements / Comunicados #}
      <a href="{{ path('<front>') }}comunicados" class="sidebar__nav-item w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg transition-colors text-gray-600 hover:bg-gray-50 hover:text-gray-900">
        {# Bell Icon #}
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5">
          <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/>
          <path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/>
        </svg>
        <span>{{ 'Comunicados'|t }}</span>
      </a>

    </nav>

    {# User Profile Section #}
    <div class="sidebar__user p-4 border-t border-gray-100">
      <div class="sidebar__user-inner flex items-center gap-3 px-2">
        <img 
          src="{{ user_avatar }}" 
          alt="{{ user_name }}" 
          class="sidebar__user-avatar w-10 h-10 rounded-full object-cover border border-gray-200"
        />
        {# User Name #}
        <div class="flex-1 min-w-0">
          {% if logged_in %}
    <a href="{{ path('user.page') }}" class="hidden sm:flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 transition-colors">
      <span class="font-medium">{{ user_name }}</span>
    </a>
    {% endif %}
          {# User Role #}
          <p class="sidebar__user-role text-xs text-gray-500 truncate">
            {{ user_role }}
          </p>
        </div>
      </div>
    </div>
    
  </div>
</aside>

